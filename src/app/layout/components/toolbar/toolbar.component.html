<mat-toolbar class="p-0 mat-elevation-z1">

  <div fxFlex fxFill fxLayout="row" fxLayoutAlign="start center">

      <div fxFlex="1 0 auto" fxLayout="row" fxLayoutAlign="start center">

          <button mat-icon-button class="navbar-toggle-button"
                  *ngIf="!hiddenNavbar && !rightNavbar" (click)="toggleSidebarOpen('navbar')" fxHide.gt-md>
              <mat-icon class="secondary-text">menu</mat-icon>
          </button>
          <div class="toolbar-separator" *ngIf="!hiddenNavbar && !rightNavbar" fxHide.gt-md></div>
          <div class="px-8 px-md-16">
              <button mat-icon-button routerLink="/home" >
                      <mat-icon>home</mat-icon>
              </button>
          </div>
          <div class="px-8 px-md-16">
              <fuse-shortcuts [navigation]="navigation"></fuse-shortcuts>
          </div>
      </div>

      <div class="" fxFlex="0 1 auto" fxLayout="row" fxLayoutAlign="start center">

          <button mat-button [matMenuTriggerFor]="userMenu"
                  class="user-button">
              <div fxLayout="row" fxLayoutAlign="center center">
                  <span class="username mr-12"
                  *ngIf="currentUser && currentUser.displayName" [innerHTML]="currentUser.displayName" ></span>
                  <mat-icon class="s-16">keyboard_arrow_down</mat-icon>
              </div>
          </button>

          <mat-menu #userMenu="matMenu" [overlapTrigger]="false">
              <button mat-menu-item class="" (click)="logout()" >
                  <mat-icon>exit_to_app</mat-icon>
                  <span>DÃ©connexion</span>
              </button>

          </mat-menu>

          <div class="toolbar-separator"></div>
          <div class="toolbar-separator"></div>
          <mat-menu #languageMenu="matMenu" [overlapTrigger]="false">

              <button mat-menu-item *ngFor="let lang of languages">
                  <span fxLayout="row" fxLayoutAlign="start center">
                      <img class="flag mr-16" [src]="'assets/icons/flags/'+lang.flag+'.png'">
                      <span class="iso">{{lang.title}}</span>
                  </span>
              </button>

          </mat-menu>

          <div class="toolbar-separator" fxHide fxShow.gt-xs></div>

          <button mat-icon-button
                  class="quick-panel-toggle-button"
                  (click)="toggleSidebarOpen('quickPanel')"
                  aria-label="Toggle quick panel">
              <mat-icon class="secondary-text">format_list_bulleted</mat-icon>
          </button>

          <div class="toolbar-separator" *ngIf="!hiddenNavbar && rightNavbar" fxHide fxShow.gt-xs></div>

          <button mat-icon-button class="navbar-toggle-button"
                  *ngIf="!hiddenNavbar && rightNavbar" (click)="toggleSidebarOpen('navbar')" fxHide.gt-md>
              <mat-icon class="secondary-text">menu</mat-icon>
          </button>

      </div>

  </div>

</mat-toolbar>
