<div id="mail" class="page-layout carded left-sidebar inner-scroll">
  <!-- TOP BACKGROUND -->
  <div class="top-bg accent"></div>
  <!-- / TOP BACKGROUND -->

  <!-- SIDEBAR -->
  <fuse-sidebar
    id="non-printable"
    class="sidebar sidebar-background"
    name="mission-order-sidebar"
    position="left"
    lockedOpen="gt-sm"
  >
    <mission-order-sidebar></mission-order-sidebar>
  </fuse-sidebar>
  <!-- / SIDEBAR -->

  <!-- CENTER -->
  <div class="center ml-20 mr-20">
    <!-- CONTENT HEADER -->
    <div
      class="header"
      id="non-printable"
      fxLayout="row"
      fxLayoutAlign="space-between center"
    >


      <div class="logo" fxLayout="row" fxLayoutAlign="start center">
        <button
          mat-icon-button
          class="sidebar-toggle mr-12"
          fxHide.gt-sm
          (click)="toggleSidebar('mission-order-sidebar')"
        >
          <mat-icon>menu</mat-icon>
        </button>
        <span
          class="logo-text h2"
          [@animate]="{
            value: '*',
            params: { delay: '100ms', x: '-25px' }
          }"
        >
          Ordres de missions
        </span>
      </div>
      <div
        fxLayout="row"
        fxLayoutAlign="end center"
        *ngIf="habilitation.canCreate()"
      >
        <button
          mat-fab
          color="warn"
          [@animate]="{
            value: '*',
            params: { delay: '600ms', scale: '0.2' }
          }"
          type="button"
          class="ml-8"
          (click)="addMissionOrder()"
        >
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </div>
    <!-- / CONTENT HEADER -->

    <!-- CONTENT CARD -->
    <div
      class="content-card mt-24"
      [ngClass]="{ 'current-mail-selected': currentMail }"
    >
      <!-- CONTENT TOOLBAR -->
      <div id="non-printable" class="toolbar px-24 py-8" fxHide.gt-sm>
        <div *ngIf="currentMail" fxHide.gt-sm>
          <button mat-icon-button (click)="currentMail = null">
            <mat-icon class="secondary-text">arrow_back</mat-icon>
          </button>
        </div>
      </div>
      <!-- / CONTENT TOOLBAR -->
      <!-- CONTENT -->
      <div class="content" fxLayout="row">
        <mission-order-list
          id="non-printable"
          fxFlex="1 1 0%"
          infiniteScroll
          [infiniteScrollDistance]="3"
          [infiniteScrollThrottle]="50"
          (scrolled)="onScroll()"
          [scrollWindow]="false"
          fusePerfectScrollbar
        ></mission-order-list>
        <mission-order-details
          fusePerfectScrollbar
          fxFlex="2 1 0%"
        ></mission-order-details>
      </div>
      <!-- / CONTENT -->
    </div>
    <!-- / CONTENT CARD -->
  </div>
  <!-- / CENTER -->
</div>
